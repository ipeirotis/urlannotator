{% extends 'base.html' %}

{% block main %}
<div class="row-fluid">
  <div class="container-fluid status-{{project.get_status|lower}}">
    <div class="row-fluid">
      <span class="span3"><h3>{{project.topic}}</h3></span>
      <span class="span5">&nbsp;</span>
      <span class="span4" style="text-align:right;">
        {% if project.is_draft %}
          <a class="btn" href="#">Activate project</a>
          <a class="btn" href="#">Settings</a>
        {% else %}
          <a class="btn" href="#">Export data</a>
          <a class="btn" href="#">Close project</a>
          <a class="btn" href="#">Settings</a>
        {% endif %}
      </span>
    </div>
    <div class="row-fluid">
      <span>{{project.get_status}}</span>
    </div>
  </div>
  <div class="row-fluid">
    <ul class="nav nav-tabs">
      <li><a href="{% url project_view id=project.id %}">Overview</a></li>
      <li><a href="{% url project_workers_view id=project.id %}">Workers</a></li>
      <li><a href="{% url project_data_view id=project.id %}">Data</a></li>
      <li class="active"><a href="{% url project_classifier_view id=project.id %}">Classifier</a></li>
      <li><a href="{% url project_btm_view id=project.id %}">Beat the Machine</a></li>
    </ul>
  </div>
  <div class="row-fluid">
    <div class="span1">
      <h3>Classifier</h3>
    </div>
    <div class="span8">&nbsp;</div>
    <div class="span3" style="text-align:right">
      <a href="#" class="btn">Export Training Ready Data</a>
    </div>
  </div>
  <div class="row-fluid">
    <div class="span2">
      <h4>Classifier performance</h4>
    </div>
    <div class="span7">&nbsp;</div>
    <div class="span3" style="text-align:right">
      <select>
        <option>04/19/2012-04/19/2012</option>
      </select>
    </div>
  </div>
  <div class="row-fluid">
    Graph
  </div>
  <div class="row-fluid">
    <div class="span7">
      <h4>Test classifier</h4>
      To test the classifier you can input either URLs or text.
      <form method="POST" action="">
      <table id="classifier-test">
        <tbody>
            <tr>
                <td></td>
                <td>
                    <input id="radio-urls" type="radio" name="test-type" checked="checked" value="urls">URL(s)
                    <input id="radio-texts" type="radio" name="test-type" value="texts">Text(s)
                </td>
            </tr>
            <tr id="input-test-urls">
                <td>
                    Input test URL(s):
                </td>
                <td>
                    <textarea cols="40" rows="5">Simple URL</textarea>
                </td>
            </tr>
            <tr class="input-test-texts" style="display:none;">
                <td>
                    Input Text:
                </td>
                <td>
                    <textarea cols="40" rows="5"></textarea>
                </td>
            </tr>
            <tr class="input-test-texts" style="display:none;">
                <td></td>
                <td>
                    <button href="#" class="btn" style="width: 100%">+</button>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input type="submit" href="#" class="btn" value="Classify!">      
                </td>
            </tr>
        </tbody>
      </table>
      </form>
    </div>
    <div class="span5">
      <h4>Classifier statistics</h4>
      <table class="table">
        <thead></thead>
        <tbody>
          <tr><td>URLs collected</td><td>96</td><td>-</td></tr>
          <tr><td>yes class records</td><td>54</td><td>56%</td></tr>
          <tr><td>no class records</td><td>32</td><td>33%</td></tr>
          <tr><td>broken class records</td><td>10</td><td>10%</td></tr>
        </tbody>
      </table>
    </div>
  </div>
    <h4>Classification Results</h4>
    <table class="table">
      <thead>
        <tr>
          <th style="width: 50px;">Preview</th>
          <th>URL</th>
          <th style="width: 50px;">Class</th>
          <th style="width: 80px;">Calculated Class</th>
          <th style="width: 50px;">Probability</th>
        </tr>
      </thead>
      <tbody>
        
    </table>
  </div>
</div>
{% endblock %}

{% block javascript %}
{{ block.super }}
<script type="text/javascript">
$('#radio-urls').change(function(obj) {
        $('.input-test-texts').css('display', 'none');
        $('#input-test-urls').css('display', '');
    }
);
$('#radio-texts').change(function(obj) {
        $('#input-test-urls').css('display', 'none');
        $('.input-test-texts').css('display', '');
    }
);
</script>
{% endblock %}

{% block css %}
{{ block.super }}
<style type="text/css">
div.status-active {in
  background-color: #DFF0D8;
}
div.status-completed {
  background-color: #F7F7F9;
}
div.status-draft {
  background-color: #FCF8E3;
}
div.status-stopped {
  background-color: #F2DEDE;
}
table#classifier-test td:first-child{
    width: 120px;
    text-align: right;
    vertical-align: top;
    padding-right: 10px;
}

</style>
{% endblock %}
